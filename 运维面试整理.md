###### [输入[www.douyin.com](http://www.douyin.com)会发生什么(dns tcp连接 http请求 渲染解析)]

1.检查本地缓存,资源已缓存就直接缓存
2.浏览器对域名进行DNS解析获得其ip地址
3.浏览器与抖音服务器建立TCP三次握手
4.浏览器发送HTTP请求给服务器，请求get，路径
5.服务器收到请求生成HTML内容
6.服务器将响应回传给浏览器，响应包括响应码和HTML
7.浏览器解析render HTML内容，请求HTML静态内容
8.浏览器渲染页面完成抖音的加载
9.通过AJAX进行后续页面交互
10.服务器继续响应后续内容，返回更新内容
11.浏览器关闭页面时，与服务器断开TCP连接

##### DNS解析过程/工作原理

1.本地DNS缓存。当浏览器需要解析域名的时候，会先检查本地缓存。
2.递归查询。本地缓存没有命中浏览器会将域名解析请求发送给配置的递归DNS服务器，通常是本地ISP提供的DNS服务器。
3.根域名服务器查询。递归DNS服务器会首先查询这个，获得顶级域的权威DNS服务器地址。
4.TLD域名服务器查询。得到顶级域权威服务器地址后，再向其查询获得负责.com域的权威DNS服务器。
5.权威DNS服务器查询。最后递归DNS服务器向.com域权威服务器发起递归查询w w w.example.com，获得最终解析结果IP地址。
6.返回解析结果。权威DNS服务器返回解析结果IP地址给递归DNS服务器，递归服务器再返回给客户端浏览器。时间大概几十到几百毫秒之间。

##### TCP需要三次握手来建立连接

1.客户端发送SYN包。发synchronize包到服务器端初始化连接，该报文不包含数据只有初始化序列号ISN。
2.服务器响应SYN+ACK包。服务器收到SYN包，需要对请求确认，会回传一个SYN+ACK包，确认号(AN)=客户端ISN+1，同时自己产生ISN。
3.客户端发送ACK包。确认号为服务器端ISN+1，三次握手完成。
三次握手为了解决“已失效连接请求报文段突然又传到服务端的问题”，既可以开始传数据了。

###### Https协议的工作原理。

1.建立SSL/TLS通道。浏览器和Web服务器通过SSL/TLS协议进行加密通信，该协议建立在TCP之上，用于两端点间数据的加密传输。
2.服务器证书验证。浏览器会验证服务器的数字证书是否由浏览器可信的证书颁发机构签名，验证合法性。
3.协商加密算法。浏览器和服务器协商使用对称加密算法，比如AES，用于后续的数据加密。
4.生成会话密钥。服务器使用自己的私钥生成一个随机的会话密钥，通过公钥加密发送给浏览器。
5.数据加密传输。浏览器使用会话密钥加密HTTP报文的数据，使用SSL/TLS通道传送到服务器端。服务器端解密数据。
6.连接结束。SSL/TLS通道种植，浏览器和服务器删除保存的密钥数据。
HTTPS保证通信内容不被窃听，传输安全。
7.SSL，Secure Sockets Layer/TLS，Transport Layer Security，安全协议，用于web间加密传输，依托加密算法和证书。
8.AES/Advanced Encryption Standard，对称加密算法，美国联邦政府采用的一种区块加密标准。

###### ping的过程

1.本地执行ping，指定ping的目标IP地址。
2.ping命令构造一个ICMP Echo Request数据包，包含了标识符和序号。
3.本地主机发送ICMP Echo Reques到目标主机。
4.目标主机收到，会在IP头部中把源和目标IP地址互换，同时构造一个ICMP Echo Reply数据包。
5.目标主机发送ICMP Echo Reply作为响应回应本地主机。
6.本地主机收到ICMP Echo Reply，会检查标识符和序号是否与发送的数据包匹配。
7.如果匹配，本地系统会显示出响应时间和TTL(Time to Live)值。
8.超时未回复表示主机不可达，ping命令会继续每隔一段时间发送ICMP请求来测试连接情况。
9.ping命令可以测试网络的连通性和延迟。

###### 跨域Cross-Origin

1.浏览器对javascript的同源策略的限制。
2.同源策略要求源相同才能访问，源是origin指的是协议，域名和端口号。
3.跨域问题主要Throught解决方案有CORS(跨域资源共享):服务端在HTTP头中添加Access-Control-Allow-Origin等响应头，表示允许制定来源的跨域请求。JSNOP:利用script标签可以跨域的特点,通过javascript callback的形式实现跨域通信。代理:通过同源代理服务器进行转发请求，避免跨域。nginx反向代理:可以配置nginx转发跨域请求，实现跨域访问。websocket:浏览器和服务器简历websocket连接，实现持久话的跨域通信。serverless:使用无服务器架构，通过服务器less功能实现跨域。